<?php
/*   _______________________________________
    |  Obfuscated by PMPR - Php Obfuscator  |
    |             694c57c7d9f44             |
    |_______________________________________|
*/
 namespace Pmpr\Utility\VisitorTracker; use Pmpr\Common\Foundation\Container\UtilityInitiator; use Pmpr\Common\Foundation\Interfaces\Constants; use Pmpr\Utility\VisitorTracker\Model\Visitor; class VisitorTracker extends UtilityInitiator { const sgwemkkuuaciyyqy = 'pr_visitor_id'; const sqwqmoeqsooqwysa = 'pr_fingerprint_id'; public function register() { $this->gkieogwukagigisy(__DIR__, [Constants::qescuiwgsyuikume => static function () { return __('Visitor Tracker', PR__UTL__VISITOR_TRACKER); }, Constants::wuowaiyouwecckaw => false, Constants::sguyaymiiiiewame => Setting::class]); } public function wigskegsqequoeks() { $this->qcsmikeggeemccuu('user_register', [$this, 'cmicqcgmayqmomku'])->qcsmikeggeemccuu('wp_login', [$this, 'eauyewigyecwekmg'], 10, 2); $this->waqewsckuayqguos('before_enqueue_frontend_assets', [$this, 'enqueue']); } public function mameiwsayuyquoeq() { Visitor::symcgieuakksimmu(); if ($this->caokeucsksukesyo()->owicscwgeuqcqaig()->gimisysaiasieees()) { Controller::symcgieuakksimmu(); } } public function eauyewigyecwekmg($moeywsaososecuqg, $mkucggyaiaukqoce) { $this->skwkkuaqmogicuyg($mkucggyaiaukqoce); } public function cmicqcgmayqmomku($ycoeoaakqyskgykq) { $this->skwkkuaqmogicuyg($ycoeoaakqyskgykq); } private function skwkkuaqmogicuyg($mkucggyaiaukqoce) { $ycoeoaakqyskgykq = $this->caokeucsksukesyo()->issssuygyewuaswa()->iooowgsqoyqseyuu($mkucggyaiaukqoce); if ($ycoeoaakqyskgykq) { $acsogkwisgciksmi = $this->ecqiugqwquemomqk(); if ($acsogkwisgciksmi) { $kckgokwkicioaigg = Visitor::symcgieuakksimmu(); $omiwuugqcmoeykqk = (int) $kckgokwkicioaigg->waecsyqmwascmqoa($acsogkwisgciksmi, Constants::yauicucwkgqyygas); if (empty($omiwuugqcmoeykqk)) { $kckgokwkicioaigg->gssiscqyqsacmeca()->wqikesawekycweoi($acsogkwisgciksmi, [Constants::yauicucwkgqyygas => $ycoeoaakqyskgykq]); } else { if ($omiwuugqcmoeykqk !== $ycoeoaakqyskgykq) { } } } } } public function ecqiugqwquemomqk(string $aqykuigiuwmmcieu = Constants::ckmqoekmugkggeym) { $cemicoukkomkmuks = $this->yikgmiwusymqoeqs(); if (empty($cemicoukkomkmuks)) { $eiicaiwgqkgsekce = $this->caokeucsksukesyo()->giiecckwoyiawoyy(); $cqqoqmkemwkmiwiw = $eiicaiwgqkgsekce->yyqgamuwwakgciey(Constants::eqokmeowucykoecy, ''); $umeaaaamoamquwec = $eiicaiwgqkgsekce->yyqgamuwwakgciey(Constants::mqimcqkskkswcqqi, ''); } else { $cqqoqmkemwkmiwiw = $cemicoukkomkmuks[Constants::gouqcwikiiygyasc] ?? ''; $umeaaaamoamquwec = $cemicoukkomkmuks[Visitor::uyqwcaogamsocsyw] ?? ''; } return $this->cwgkwuemmikukkke($cqqoqmkemwkmiwiw, $umeaaaamoamquwec, $aqykuigiuwmmcieu); } public function cwgkwuemmikukkke($cqqoqmkemwkmiwiw, $umeaaaamoamquwec = '', string $aqykuigiuwmmcieu = Constants::ckmqoekmugkggeym) { if ($cqqoqmkemwkmiwiw || $umeaaaamoamquwec) { $eqwoegegiamegqsm = $this->caokeucsksukesyo()->skckwsgymkimyuwo(); $kckgokwkicioaigg = Visitor::symcgieuakksimmu(); if ($this->uwkmaywceaaaigwo()->issssuygyewuaswa()->ksgkoukcicwkkaum()) { $acsogkwisgciksmi = $kckgokwkicioaigg->iekyeyicoyyawomk()->akkkoiiymmamsauc($this->uwkmaywceaaaigwo()->issssuygyewuaswa()->qyeguewwsmosqcwc(), Constants::yauicucwkgqyygas); if ($kckgokwkicioaigg->waecsyqmwascmqoa($acsogkwisgciksmi, $kckgokwkicioaigg::iiyyigciueaommaw) !== $umeaaaamoamquwec) { } } if (empty($acsogkwisgciksmi)) { $acsogkwisgciksmi = $kckgokwkicioaigg->iekyeyicoyyawomk()->oqomcmyuuakigusk([$eqwoegegiamegqsm->megqywqeuquawkim(Visitor::iiyyigciueaommaw, $cqqoqmkemwkmiwiw), $eqwoegegiamegqsm->megqywqeuquawkim(Visitor::uyqwcaogamsocsyw, $umeaaaamoamquwec)->iygikqkegwkaaess()]); } switch ($aqykuigiuwmmcieu) { case Constants::gouqcwikiiygyasc: return $kckgokwkicioaigg->mwyqswsaeeewsosm($acsogkwisgciksmi); case Constants::yauicucwkgqyygas: return $kckgokwkicioaigg->waecsyqmwascmqoa($acsogkwisgciksmi, Constants::yauicucwkgqyygas); case Constants::oyaoekcogwkcekcc: $ycoeoaakqyskgykq = $kckgokwkicioaigg->waecsyqmwascmqoa($acsogkwisgciksmi, Constants::yauicucwkgqyygas); if ($ycoeoaakqyskgykq) { return $kckgokwkicioaigg->iekyeyicoyyawomk()->ssiyoimagsskwsoi([$this->caokeucsksukesyo()->skckwsgymkimyuwo()->megqywqeuquawkim(Constants::yauicucwkgqyygas, $ycoeoaakqyskgykq)]); } else { return [$kckgokwkicioaigg->mwyqswsaeeewsosm($acsogkwisgciksmi)]; } case Constants::ckmqoekmugkggeym: default: return $acsogkwisgciksmi; } } return null; } public function yikgmiwusymqoeqs() { $eiicaiwgqkgsekce = $this->caokeucsksukesyo()->giiecckwoyiawoyy(); $cemicoukkomkmuks = $eiicaiwgqkgsekce->aukgyiaewiccooqw('pr_vt_c', []); if (empty($cemicoukkomkmuks)) { $cemicoukkomkmuks = $eiicaiwgqkgsekce->wugwewwmekuaamos('pr_vt_s', []); } return array_filter($cemicoukkomkmuks); } public function enqueue() { $meakksicouekcgoe = $this->caokeucsksukesyo()->usugyumcgeaaowsi(); $meakksicouekcgoe->yawoscugkyysowie($meakksicouekcgoe->owygwqwawqoiusis($this, 'frontend', 'frontend.js')->okawmmwsiuauwsiu(Constants::iickqyckyaqcaokm)); } }
