<?php
/*   _______________________________________
    |  Obfuscated by PMPR - Php Obfuscator  |
    |             694c413b5e4f6             |
    |_______________________________________|
*/
 namespace Pmpr\Utility\VisitorTracker; use Pmpr\Common\Foundation\Interfaces\Constants; use Pmpr\Common\Foundation\REST\AbstractCoreController; use Pmpr\Utility\VisitorTracker\Model\Visitor; use WP_Error; use WP_REST_Request; class Controller extends AbstractCoreController { public function qiccuiwooiquycsg() { $this->prefix = 'vt'; } public function qyioasyaygeaouwq() { $this->ueegsaaqskeuyiaa('create', [$this, 'qcmswocmaosceeqo'], Constants::rkcekuukkmyekksa)->ueegsaaqskeuyiaa('update-last-seen', [$this, 'omswouwsyogiqouk'], Constants::ecisausgyosqycem); } public function qcmswocmaosceeqo(WP_REST_Request $aqmwamyiwgeeymqa) { $cemicoukkomkmuks = $this->aemeowyaecqmymas($aqmwamyiwgeeymqa, Constants::mmukckwymiasqioi); if ($cemicoukkomkmuks) { $qioqusssqgowmcoq = $cemicoukkomkmuks[Constants::gouqcwikiiygyasc] ?? 0; $umeaaaamoamquwec = $cemicoukkomkmuks[Visitor::uyqwcaogamsocsyw] ?? ''; if (!empty($qioqusssqgowmcoq)) { $kckgokwkicioaigg = Visitor::symcgieuakksimmu(); $oioqoaioiiwuoecs = $kckgokwkicioaigg->iekyeyicoyyawomk()->akkkoiiymmamsauc($qioqusssqgowmcoq, $kckgokwkicioaigg::iiyyigciueaommaw); if (!$oioqoaioiiwuoecs) { $yiuogaeewyockeak = $this->aemeowyaecqmymas($aqmwamyiwgeeymqa, Constants::syueuegaeqikiyuq); if (empty($yiuogaeewyockeak)) { $yiuogaeewyockeak = $this->caokeucsksukesyo()->sgqicqeoumwmsmyw()->gwgmymsuwsceguce(); } else { if (!is_numeric($yiuogaeewyockeak)) { $yiuogaeewyockeak = strtotime($yiuogaeewyockeak); } } $sogksuscggsicmac = $kckgokwkicioaigg->gssiscqyqsacmeca()->gsegsiocqmsoayii([Constants::ioksewgkgwwikiwo => $this->caokeucsksukesyo()->issssuygyewuaswa()->mmscegoieayuaguo(), $kckgokwkicioaigg::iiyyigciueaommaw => $qioqusssqgowmcoq, Constants::cacismqswgaewkuu => $this->aemeowyaecqmymas($aqmwamyiwgeeymqa, Constants::cacismqswgaewkuu, ''), Constants::igcuuwaiqwaqioos => $this->aemeowyaecqmymas($aqmwamyiwgeeymqa, Constants::igcuuwaiqwaqioos, ''), Constants::osmyiwigoaisauug => $this->aemeowyaecqmymas($aqmwamyiwgeeymqa, 'userAgent', ''), $kckgokwkicioaigg::uyqwcaogamsocsyw => $umeaaaamoamquwec]); if ($sogksuscggsicmac && !is_wp_error($sogksuscggsicmac)) { $keccaugmemegoimu = $this->qasywwyamoesisyi('ok'); } else { $keccaugmemegoimu = $this->caokeucsksukesyo()->euekiyuksecoccus()->ueiegogoeyqoiewa(__('Can not create visitor', PR__UTL__VISITOR_TRACKER)); } } else { $keccaugmemegoimu = $this->qasywwyamoesisyi(__('Already created', PR__UTL__VISITOR_TRACKER)); } if (!is_wp_error($keccaugmemegoimu)) { $eiicaiwgqkgsekce = $this->caokeucsksukesyo()->giiecckwoyiawoyy(); $eiicaiwgqkgsekce->giyscymwkesykqsg('pr_vt_s', $cemicoukkomkmuks); } } else { $keccaugmemegoimu = $this->caokeucsksukesyo()->euekiyuksecoccus()->cackyykusuowuiwg(); } } else { $keccaugmemegoimu = $this->caokeucsksukesyo()->euekiyuksecoccus()->cackyykusuowuiwg(); } return $keccaugmemegoimu; } public function omswouwsyogiqouk(WP_REST_Request $aqmwamyiwgeeymqa) { $qioqusssqgowmcoq = $this->aemeowyaecqmymas($aqmwamyiwgeeymqa, Constants::cmcqgcgqyckmiggk); if ($qioqusssqgowmcoq) { $kckgokwkicioaigg = Visitor::symcgieuakksimmu(); $oioqoaioiiwuoecs = $kckgokwkicioaigg->iekyeyicoyyawomk()->akkkoiiymmamsauc($qioqusssqgowmcoq, $kckgokwkicioaigg::iiyyigciueaommaw); if (!$oioqoaioiiwuoecs) { return $this->qcmswocmaosceeqo($aqmwamyiwgeeymqa); } else { $keccaugmemegoimu = $this->qasywwyamoesisyi('ok'); } } else { $keccaugmemegoimu = $this->caokeucsksukesyo()->euekiyuksecoccus()->cackyykusuowuiwg(); } return $keccaugmemegoimu; } }
